<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Inicio de la Historia</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: 'Arial', sans-serif;
      background: black;
      color: white;
    }

    #contenedor {
      position: relative;
      width: 100vw;
      height: 100vh;
      overflow: hidden;
    }

    #fondoLluvia {
      background: url('assets/Fondo/lluvia.gif') no-repeat center center;
      background-size: cover;
      position: absolute;
      top: 0; left: 0;
      width: 100%;
      height: 100%;
      z-index: 1;
    }

    #personaje {
      position: absolute;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      height: 50vh;
      z-index: 2;
    }

    #dialogo {
      position: absolute;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(0,0,0,0.7);
      padding: 20px;
      border-radius: 15px;
      width: 80%;
      max-width: 800px;
      z-index: 3;
    }

    #dialogo p {
      font-size: 18px;
      line-height: 1.6;
    }

    #siguiente {
      display: block;
      margin: 10px auto 0;
      padding: 10px 20px;
      background-color: crimson;
      border: none;
      color: white;
      border-radius: 10px;
      cursor: pointer;
      font-size: 16px;
    }

    #siguiente:hover {
      background-color: darkred;
    }
  </style>
</head>
<body>
  <div id="contenedor">
    <div id="fondoLluvia"></div>
    <img id="personaje" src="" alt="Personaje">
    <div id="dialogo">
      <p id="texto"></p>
      <button id="siguiente" onclick="mostrarDialogo()">Siguiente</button>
    </div>
  </div>

  <audio id="lluvia" src="assets/sonidos/lluvia.mp3" autoplay loop></audio>

  <script>
    const personaje = JSON.parse(localStorage.getItem('personaje'));
    const imagen = document.getElementById('personaje');
    const texto = document.getElementById('texto');
    let paso = 0;

    if (personaje) {
      if (personaje.genero === 'hombre') {
        imagen.src = 'assets/imagenes/Personaje-Hombre.png';
      } else {
        imagen.src = 'assets/imagenes/Personaje-Mujer.png';
      }
    } else {
      imagen.src = 'assets/imagenes/Personaje-Hombre.png';
    }

    const dialogos = [
      'Son las 3:33 de la madrugada. La pantalla parpadea... has estado jugando toda la noche.',
      'Un sonido fuerte te saca del trance. Es la televisión del living encendiéndose sola.',
      'Sientes algo extraño. La lluvia golpea con fuerza la ventana.',
      'Una alerta suena en tu celular: "Criminal peligroso escapó de la prisión de La Cruz".',
      'Tu perro comienza a ladrar con fuerza. Sientes un escalofrío...',
      '¿Deberías ir a investigar, o quedarte en tu habitación?'
    ];

    function mostrarDialogo() {
      if (paso < dialogos.length) {
        texto.innerText = dialogos[paso];
        paso++;
      } else {
        window.location.href = 'decision1.html';
      }
    }

    // Mostrar el primer texto al cargar
    window.onload = mostrarDialogo;
  </script>
</body>
</html>
